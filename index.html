<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Personal Space</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="journal.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#646cff">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered successfully:', registration);
                    })
                    .catch(error => {
                        console.log('Service Worker registration failed:', error);
                    });
            });
        }
    </script>
</head>
<body class="dark">
    <div class="sidebar">
        <h2>Pomofocus</h2>
        <nav>
            <button class="nav-button active" data-page="home">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </button>
            <button class="nav-button" data-page="moods">
                <i class="fas fa-smile"></i>
                <span>Moods</span>
            </button>
            <button class="nav-button" data-page="journal">
                <i class="fas fa-book"></i>
                <span>Journal</span>
            </button>
            <button class="nav-button" data-page="timeline">
                <i class="fas fa-calendar-alt"></i>
                <span>Timeline</span>
            </button>
            <button class="nav-button" data-page="study">
                <i class="fas fa-graduation-cap"></i>
                <span>Study</span>
            </button>
            <button class="nav-button" data-page="faith">
                <i class="fas fa-pray"></i>
                <span>Faith</span>
            </button>
            <button class="nav-button" data-page="analytics">
                <i class="fas fa-chart-line"></i>
                <span>Analytics</span>
            </button>
            <button class="nav-button" data-page="settings">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </button>
        </nav>
    </div>

    <main class="content">
        <!-- Home Page -->
        <section id="home" class="page active">
            <div class="profile-header">
                <div class="profile-pic-wrapper">
                    <img id="profile-pic" src="https://via.placeholder.com/150" alt="Profile">
                    <div class="profile-pic-overlay">
                        <i class="fas fa-camera"></i>
                    </div>
                    <input type="file" id="profile-pic-input" accept="image/*" style="display: none;">
                </div>
                <div class="profile-info">
                    <h3 id="profile-name">Welcome</h3>
                    <p id="profile-bio" class="profile-bio-text">Add a short bio about yourself</p>
                    <button id="edit-profile" class="btn-subtle">
                        <i class="fas fa-edit"></i> Edit Profile
                    </button>
                </div>
                
                <!-- Streak counter moved inside profile header -->
                <div class="mini-streak-container">
                    <div class="mini-streak" id="mini-streak">
                        <i class="fas fa-fire"></i>
                        <span id="current-streak">0</span>
                        <div class="mini-streak-tooltip">
                            <div class="tooltip-content">
                                <div class="tooltip-header">Daily Streak</div>
                                <div class="tooltip-stat">
                                    <span class="tooltip-label">Longest:</span>
                                    <span class="tooltip-value" id="longest-streak">0</span>
                                </div>
                                <div class="tooltip-stat">
                                    <span class="tooltip-label">Next Goal:</span>
                                    <span class="tooltip-value" id="next-milestone">3 days</span>
                                </div>
                                <button id="check-in-btn" class="btn-subtle" title="Daily Check-in">
                                    <i class="fas fa-check-circle"></i> Check-in
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Profile edit panel outside the header -->
            <div class="profile-edit-panel" style="display: none;">
                <div class="form-group">
                    <label for="home-display-name">Display Name</label>
                    <input type="text" id="home-display-name" placeholder="Your Name">
                </div>
                <div class="form-group">
                    <label for="home-bio">Bio</label>
                    <textarea id="home-bio" placeholder="A short bio about yourself" rows="3"></textarea>
                </div>
                <div class="profile-edit-actions">
                    <button id="cancel-profile-edit" class="btn-subtle">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                    <button id="save-home-profile" class="btn btn-primary">
                        <i class="fas fa-save"></i> Save
                    </button>
                </div>
            </div>

            <div class="home-content">
                <!-- Left Column: Daily Affirmation (spanning two rows) -->
                <div class="affirmation-card">
                    <h3><i class="fas fa-quote-left"></i> Daily Affirmation</h3>
                    <p id="daily-affirmation"></p>
                </div>

                <!-- Right Column: Quick Note -->
                <div class="sticky-note">
                    <div class="sticky-note-header">
                        <h3><i class="fas fa-sticky-note"></i> Quick Note</h3>
                        <button id="edit-note" class="btn-icon">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                    <div id="note-display" class="note-content">Click to add a note</div>
                    <div id="note-editor" style="display: none;">
                        <textarea id="note-textarea" placeholder="Write your note here..." maxlength="500"></textarea>
                        <div class="note-actions">
                            <span id="note-char-count">0/500</span>
                            <div class="note-buttons">
                                <button id="cancel-note" class="btn-subtle">Cancel</button>
                                <button id="save-note" class="btn-primary">
                                    <i class="fas fa-save"></i> Save
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Left Column: Stats Section -->
                <div class="stats-section">
                    <h3><i class="fas fa-chart-line"></i> Your Activity</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="mood-count">0</div>
                            <div class="stat-label">Moods Logged</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="journal-count">0</div>
                            <div class="stat-label">Journal Entries</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="active-days">0</div>
                            <div class="stat-label">Active Days</div>
                        </div>
                    </div>
                </div>
                
                <!-- Right Column: Daily Goals Card (spanning two rows) -->
                <div class="daily-goals-card">
                    <div class="goals-header">
                        <h3><i class="fas fa-bullseye"></i> Daily Goals</h3>
                        <button id="add-goal-btn" class="btn-icon" title="Add a new goal">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    <div class="goals-content">
                        <ul id="goals-list" class="goals-list">
                            <!-- Goals will be added by JS -->
                            <li class="goal-empty">Set goals to build better habits</li>
                        </ul>
                    </div>
                    <div class="goals-add-form" style="display: none;">
                        <input type="text" id="new-goal-input" placeholder="Enter a new daily goal...">
                        <button id="save-goal-btn" class="btn-primary">
                            <i class="fas fa-save"></i> Save
                        </button>
                    </div>
                </div>
            </div>
        </section>

       <!-- Moods Page -->
    <section id="moods" class="page">
      <h2 class="page-title">Mood Tracker</h2>
      <div class="mood-section">
          <div class="mood-input">
              <h3>How are you feeling?</h3>
              <div class="mood-grid">
                  <div class="mood-item" data-mood="happy">
                      <span class="mood-emoji">üòä</span>
                      <span class="mood-label">Happy</span>
                  </div>
                  <div class="mood-item" data-mood="sad">
                      <span class="mood-emoji">üò¢</span>
                      <span class="mood-label">Sad</span>
                  </div>
                  <div class="mood-item" data-mood="angry">
                      <span class="mood-emoji">üò°</span>
                      <span class="mood-label">Angry</span>
                  </div>
                  <div class="mood-item" data-mood="excited">
                      <span class="mood-emoji">ü§©</span>
                      <span class="mood-label">Excited</span>
                  </div>
                  <div class="mood-item" data-mood="tired">
                      <span class="mood-emoji">üò¥</span>
                      <span class="mood-label">Tired</span>
                  </div>
                  <div class="mood-item" data-mood="neutral">
                      <span class="mood-emoji">üòê</span>
                      <span class="mood-label">Neutral</span>
                  </div>
                  <div class="mood-item" data-mood="anxious">
                      <span class="mood-emoji">üò∞</span>
                      <span class="mood-label">Anxious</span>
                  </div>
                  <div class="mood-item" data-mood="relaxed">
                      <span class="mood-emoji">üòå</span>
                      <span class="mood-label">Relaxed</span>
                  </div>
              </div>
              <div class="mood-note-container">
                  <textarea id="mood-note" placeholder="Add a note about how you're feeling (optional)" maxlength="200"></textarea>
                  <span id="mood-note-char">0/200</span>
              </div>
          </div>
          <div class="mood-chart">
              <h3>Past Week Mood Trends</h3>
              <div class="chart-container">
              <canvas id="mood-chart"></canvas>
              </div>
          </div>
      </div>
      
      <div class="mood-history-section">
          <div class="mood-history-header">
              <h3><i class="fas fa-history"></i> Mood History</h3>
              <div class="mood-filter">
                  <select id="mood-filter">
                      <option value="all">All Moods</option>
                      <option value="happy">Happy</option>
                      <option value="sad">Sad</option>
                      <option value="angry">Angry</option>
                      <option value="excited">Excited</option>
                      <option value="tired">Tired</option>
                      <option value="neutral">Neutral</option>
                      <option value="anxious">Anxious</option>
                      <option value="relaxed">Relaxed</option>
                  </select>
                  <button id="clear-all-moods" class="btn-subtle">
                      <i class="fas fa-trash-alt"></i> Clear All
                  </button>
              </div>
          </div>
          <div id="mood-entries" class="mood-entries">
              <!-- Mood entries will be populated here -->
              <div class="mood-empty">
                  <i class="fas fa-smile-beam"></i>
                  <p>No mood entries yet</p>
                  <p class="mood-empty-subtitle">Select a mood above to start tracking</p>
              </div>
          </div>
      </div>
  </section>

        <!-- Journal Page -->
        <section id="journal" class="page">
            <h2 class="page-title">Journal</h2>
            
            <!-- Password Protection Overlay -->
            <div id="journal-lock-overlay" style="display: none;">
                <div class="journal-lock-container">
                    <i class="fas fa-lock"></i>
                    <h3>Journal Protected</h3>
                    <p>Enter your password to access your private journal entries</p>
                    <div class="password-input-container">
                        <input type="password" id="journal-password-input" placeholder="Enter password">
                        <button id="journal-unlock-btn" class="btn-primary">
                            <i class="fas fa-unlock"></i> Unlock
                        </button>
                    </div>
                    <div class="password-hint" id="password-hint"></div>
                </div>
            </div>
            
            <!-- Journal Content (will be hidden when locked) -->
            <div id="journal-content">
                <!-- Journal Controls -->
                <div class="journal-controls">
                    <div class="journal-search">
                        <input type="text" id="journal-search" placeholder="Search entries...">
                        <i class="fas fa-search"></i>
                    </div>
                    <div class="journal-actions-group">
                        <div class="journal-view-options">
                            <button id="journal-view-all" class="journal-view-btn active" title="List View">
                                <i class="fas fa-list"></i>
                            </button>
                            <button id="journal-view-calendar" class="journal-view-btn" title="Calendar View">
                                <i class="fas fa-calendar-alt"></i>
                            </button>
                        </div>
                        <button id="setup-password-btn" class="btn-icon" title="Setup Password">
                            <i class="fas fa-key"></i>
                        </button>
                        <button id="journal-lock-btn" class="btn-icon" title="Lock Journal">
                            <i class="fas fa-lock"></i>
                        </button>
                    </div>
                </div>
                
                <!-- New Entry Card -->
                <div class="journal-card">
                    <div class="journal-card-header">
                        <h3><i class="fas fa-pen"></i> Write a New Entry</h3>
                        <div class="journal-mood-selector">
                            <span class="journal-mood-label">Mood:</span>
                            <div class="journal-mood-options">
                                <span class="journal-mood" data-mood="happy">üòä</span>
                                <span class="journal-mood" data-mood="sad">üò¢</span>
                                <span class="journal-mood" data-mood="neutral">üòê</span>
                                <span class="journal-mood" data-mood="excited">ü§©</span>
                                <span class="journal-mood" data-mood="tired">üò¥</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Journal Entry Metadata -->
                    <div class="journal-metadata">
                        <div class="metadata-item" id="journal-weather-display">
                            <i class="fas fa-cloud-sun"></i>
                            <span>Add weather</span>
                        </div>
                        <div class="metadata-item" id="journal-location-display">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Add location</span>
                        </div>
                    </div>
                    
                    <textarea id="journal-entry" placeholder="What's on your mind today?" maxlength="2000"></textarea>
                <div class="journal-actions">
                        <div class="journal-tools">
                            <button id="journal-add-weather" class="journal-tool-btn" title="Add Weather">
                                <i class="fas fa-cloud-sun"></i>
                            </button>
                            <button id="journal-add-location" class="journal-tool-btn" title="Add Location">
                                <i class="fas fa-map-marker-alt"></i>
                            </button>
                            <button id="journal-add-image" class="journal-tool-btn" title="Add Image">
                                <i class="fas fa-image"></i>
                            </button>
                            <input type="file" id="journal-image-input" accept="image/*" style="display: none;">
                        </div>
                        <div class="journal-save-area">
                            <span id="journal-char">0/2000</span>
                            <button id="save-journal" class="btn btn-primary">
                                <i class="fas fa-save"></i> Save Entry
                            </button>
                        </div>
                    </div>
                    
                    <!-- Journal Image Preview Container -->
                    <div id="journal-image-container" style="display: none;" class="journal-image-container">
                        <img id="journal-image-preview" class="journal-image-preview">
                        <button id="remove-journal-image" class="journal-image-remove">
                            <i class="fas fa-times"></i>
                        </button>
                        
                        <!-- Image Position Controls -->
                        <div class="image-controls">
                            <div class="image-position-controls">
                                <h4>Position</h4>
                                <div class="position-options">
                                    <button class="position-btn active" data-position="below" title="Below text">
                                        <i class="fas fa-arrow-down"></i>
                                    </button>
                                    <button class="position-btn" data-position="above" title="Above text">
                                        <i class="fas fa-arrow-up"></i>
                                    </button>
                                    <button class="position-btn" data-position="left" title="Left of text">
                                        <i class="fas fa-arrow-left"></i>
                                    </button>
                                    <button class="position-btn" data-position="right" title="Right of text">
                                        <i class="fas fa-arrow-right"></i>
                                    </button>
                                    <button class="position-btn" data-position="inline" title="Inline with text">
                                        <i class="fas fa-align-center"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="image-size-controls">
                                <h4>Size</h4>
                                <div class="size-slider-container">
                                    <input type="range" id="image-size-slider" min="10" max="100" value="50" class="size-slider">
                                    <span id="size-value">50%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Journal Entries Section -->
                <div class="journal-entries-header">
                    <h3><i class="fas fa-book"></i> Your Entries</h3>
                    <div class="journal-filter">
                        <select id="journal-filter">
                            <option value="all">All Entries</option>
                            <option value="today">Today</option>
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                        </select>
                    </div>
                </div>
                
                <!-- Calendar View (hidden by default) -->
                <div id="journal-calendar-view" style="display: none;">
                    <div class="journal-calendar-container">
                        <div class="journal-calendar-header">
                            <button id="prev-month" class="calendar-nav-btn"><i class="fas fa-chevron-left"></i></button>
                            <h4 id="calendar-month-year">April 2023</h4>
                            <button id="next-month" class="calendar-nav-btn"><i class="fas fa-chevron-right"></i></button>
                        </div>
                        <div class="journal-calendar-weekdays">
                            <span>Sun</span>
                            <span>Mon</span>
                            <span>Tue</span>
                            <span>Wed</span>
                            <span>Thu</span>
                            <span>Fri</span>
                            <span>Sat</span>
                        </div>
                        <div id="journal-calendar-days" class="journal-calendar-days">
                            <!-- Calendar days will be generated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <!-- List View (default) -->
                <div id="journal-entries"></div>
            </div>
            
            <!-- Password Setup Modal -->
            <div id="password-setup-modal" class="modal" style="display: none;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Protect Your Journal</h3>
                        <button id="close-password-modal" class="btn-icon">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>Create a password to keep your journal entries private. Choose something memorable but secure.</p>
                        <div class="form-group">
                            <label for="password-input">New Password</label>
                            <input type="password" id="password-input" placeholder="Enter password">
                            <div class="password-strength">
                                <div class="password-strength-bar" id="password-strength-bar"></div>
                            </div>
                            <div class="password-strength-text" id="password-strength-text">Password strength</div>
                        </div>
                        <div class="form-group">
                            <label for="confirm-password-input">Confirm Password</label>
                            <input type="password" id="confirm-password-input" placeholder="Confirm password">
                        </div>
                        <div class="form-group">
                            <label for="password-hint-input">Password Hint (Optional)</label>
                            <input type="text" id="password-hint-input" placeholder="Enter a hint to help you remember">
                            <small class="hint-tip">This hint will be visible on the lock screen</small>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button id="cancel-password-setup" class="btn-subtle">Cancel</button>
                        <button id="save-password-btn" class="btn-primary">Set Password</button>
                    </div>
                </div>
            </div>
        </section>

         <!-- Timeline Page -->
    <section id="timeline" class="page">
      <h2 class="page-title">Timeline</h2>
      
      <!-- Add Event Button -->
      <div class="add-event-button-container">
          <button id="toggle-event-form" class="btn-circle">
              <i class="fas fa-plus"></i>
          </button>
          <span class="add-event-label">Add Event</span>
      </div>
      
      <!-- Collapsible Event Form -->
      <div id="event-form-container" class="card" style="display: none;">
          <div class="card-header">
              <h3><i class="fas fa-plus-circle"></i> Add New Event</h3>
              <button id="close-event-form" class="btn-icon">
                  <i class="fas fa-times"></i>
              </button>
          </div>
          <form id="event-form">
              <input type="text" id="event-title" placeholder="Event Title" required>
              <input type="datetime-local" id="event-datetime" required>
              <select id="event-category">
                  <option value="personal">Personal</option>
                  <option value="work">Work</option>
                  <option value="academic">Academic</option>
                  <option value="health">Health</option>
                  <option value="social">Social</option>
              </select>
              <select id="event-priority">
                  <option value="low">Low Priority</option>
                  <option value="medium">Medium Priority</option>
                  <option value="high">High Priority</option>
              </select>
              <textarea id="event-description" placeholder="Event Description"></textarea>
              <button type="submit" class="btn btn-primary">
                  <i class="fas fa-calendar-plus"></i> Add Event
              </button>
          </form>
      </div>
      
      <!-- Timeline (now at the top) -->
      <div class="timeline" id="events-timeline"></div>
        </section>

        <!-- Study Page -->
        <section id="study" class="page">
            <h2 class="page-title">Study Tools</h2>
            
            <div class="study-grid">
                <!-- Pomodoro Timer -->
                <div class="study-card pomodoro-card">
                    <div class="tool-header">
                        <h3><i class="fas fa-clock"></i> Pomodoro Timer</h3>
                        <div class="tool-actions">
                            <button class="btn-icon" id="reset-timer" title="Reset Timer">
                                <i class="fas fa-redo"></i>
                            </button>
                        </div>
                    </div>
                    <div class="timer-display">
                        <div class="time">25:00</div>
                        <div class="timer-label">Focus Time</div>
                        <div class="session-count">
                            <span class="count">0</span>
                            <span class="label">sessions completed</span>
                        </div>
                    </div>
                    <div class="timer-controls">
                        <button class="btn btn-primary" id="start-timer">
                            <i class="fas fa-play"></i> Start
                        </button>
                    </div>
                    <div class="timer-settings">
                        <div class="setting">
                            <label>Focus Duration:</label>
                            <div class="duration-control">
                                <button class="btn-icon" id="decrease-focus"><i class="fas fa-minus"></i></button>
                                <span id="focus-duration">25</span>
                                <button class="btn-icon" id="increase-focus"><i class="fas fa-plus"></i></button>
                            </div>
                        </div>
                        <div class="setting">
                            <label>Break Duration:</label>
                            <div class="duration-control">
                                <button class="btn-icon" id="decrease-break"><i class="fas fa-minus"></i></button>
                                <span id="break-duration">5</span>
                                <button class="btn-icon" id="increase-break"><i class="fas fa-plus"></i></button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Flashcards -->
                <div class="study-card flashcards-card">
                    <div class="tool-header">
                        <h3><i class="fas fa-clone"></i> Flashcards</h3>
                        <div class="tool-actions">
                            <button class="btn-icon" id="add-deck" title="Add New Deck">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="flashcard-decks">
                        <div class="flashcard-decks-header">
                            <h4>Your Decks</h4>
                        </div>
                        <div class="deck-list">
                            <!-- Decks will be dynamically added here -->
                        </div>
                    </div>
                    <div class="flashcards-container">
                        <!-- Flashcards will be dynamically added here -->
                    </div>
                    <div class="flashcard-navigation">
                        <button class="flashcard-nav-btn" id="prev-card" disabled>
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <span class="card-counter">0 / 0</span>
                        <button class="flashcard-nav-btn" id="next-card" disabled>
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    <div class="flashcard-actions">
                        <button class="btn btn-primary" id="add-flashcard">
                            <i class="fas fa-plus"></i> Add Card
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Faith Page -->
        <section id="faith" class="page">
            <h2 class="page-title">Faith Journey</h2>
            
            <div class="faith-grid">
                <!-- Daily Verse Card -->
                <div class="faith-card daily-verse">
                    <div class="card-header">
                        <h3><i class="fas fa-book-bible"></i> Daily Verse</h3>
                        <button id="refresh-verse" class="btn-icon" title="Get a new verse">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                    <div class="verse-content">
                        <p id="daily-verse-text" class="verse-text"></p>
                        <p id="daily-verse-reference" class="verse-reference"></p>
                    </div>
                    <div class="verse-actions">
                        <button id="save-verse" class="btn-subtle">
                            <i class="fas fa-bookmark"></i> Save
                        </button>
                        <button id="share-verse" class="btn-subtle">
                            <i class="fas fa-share-alt"></i> Share
                        </button>
                    </div>
                </div>

                <!-- Mood-Based Encouragement -->
                <div class="faith-card mood-encouragement">
                    <div class="card-header">
                        <h3><i class="fas fa-heart"></i> Encouragement for Your Mood</h3>
                    </div>
                    <div class="mood-verse-content">
                        <div class="mood-verse-header">
                            <span id="current-mood-display" class="mood-emoji"></span>
                            <p id="mood-verse-text" class="verse-text"></p>
                        </div>
                        <p id="mood-verse-reference" class="verse-reference"></p>
                    </div>
                </div>

                <!-- Custom Verse Management -->
                <div class="faith-card custom-verses">
                    <div class="card-header">
                        <h3><i class="fas fa-plus-circle"></i> Add Custom Verse</h3>
                    </div>
                    <div class="custom-verse-form">
                        <div class="form-group">
                            <input type="text" id="verse-text-input" placeholder="Enter verse text..." class="verse-input">
                        </div>
                        <div class="form-group">
                            <input type="text" id="verse-reference-input" placeholder="Enter verse reference (e.g., John 3:16)" class="verse-input">
                        </div>
                        <button id="add-custom-verse" class="btn btn-primary">
                            <i class="fas fa-plus"></i> Add Verse
                        </button>
                    </div>
                </div>

                <!-- Verse Search -->
                <div class="faith-card verse-search">
                    <div class="card-header">
                        <h3><i class="fas fa-search"></i> Search Verses</h3>
                    </div>
                    <div class="search-content">
                        <input type="text" id="verse-search" placeholder="Search your verses..." class="search-input">
                        <div id="verse-search-results" class="search-results"></div>
                    </div>
                </div>

                <!-- Custom Verses List -->
                <div class="faith-card custom-verses-list">
                    <div class="card-header">
                        <h3><i class="fas fa-list"></i> Your Custom Verses</h3>
                        <span class="verse-count" id="custom-verse-count">0 verses</span>
                    </div>
                    <div class="custom-verses-content">
                        <div id="custom-verses-list" class="verses-list">
                            <div class="no-verses">
                                <i class="fas fa-book"></i>
                                <p>No custom verses yet</p>
                                <span class="subtitle">Add your favorite verses to get started</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Page -->
        <section id="analytics" class="page">
            <h2 class="page-title">Analytics</h2>
            
            <div class="analytics-overview">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-smile"></i></div>
                    <div class="stat-value" id="total-moods">0</div>
                    <div class="stat-label">Moods Logged</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-book"></i></div>
                    <div class="stat-value" id="total-entries">0</div>
                    <div class="stat-label">Journal Entries</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-calendar-check"></i></div>
                    <div class="stat-value" id="total-days">0</div>
                    <div class="stat-label">Active Days</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-calendar-alt"></i></div>
                    <div class="stat-value" id="total-events">0</div>
                    <div class="stat-label">Events Planned</div>
                </div>
            </div>
            
            <div class="analytics-grid">
                <div class="analytics-card">
                    <h3><i class="fas fa-chart-pie"></i> Mood Distribution</h3>
                    <div class="chart-container">
                <canvas id="mood-distribution-chart"></canvas>
                    </div>
                </div>
                
                <div class="analytics-card">
                    <h3><i class="fas fa-chart-line"></i> Weekly Activity</h3>
                    <div class="chart-container">
                        <canvas id="activity-timeline-chart"></canvas>
                    </div>
                </div>
                
                <div class="analytics-card">
                    <h3><i class="fas fa-calendar-week"></i> Most Active Days</h3>
                    <div class="chart-container">
                        <canvas id="active-days-chart"></canvas>
                    </div>
                </div>
                
                <div class="analytics-card">
                    <h3><i class="fas fa-clock"></i> Time of Day Analysis</h3>
                    <div class="chart-container">
                        <canvas id="time-of-day-chart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="analytics-card insights-card">
                <h3><i class="fas fa-lightbulb"></i> Insights</h3>
                <div id="analytics-insights">
                    <div class="insight-placeholder">
                        <i class="fas fa-chart-bar"></i>
                        <p>Log more activities to generate personalized insights</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Settings Page -->
        <section id="settings" class="page">
            <h2 class="page-title">Settings</h2>
            
            <div class="settings-grid">
                <div class="settings-card">
                    <h3><i class="fas fa-palette"></i> Theme</h3>
                    <p class="settings-description">Choose a theme that suits your mood and style.</p>
                <div class="theme-grid">
                    <div class="theme-card" data-theme="dark">
                            <div class="theme-preview" style="background: #171717">
                                <div class="theme-preview-accent" style="background: #646cff"></div>
                            </div>
                        <span>Dark</span>
                        </div>
                        <div class="theme-card" data-theme="deeper-dark">
                            <div class="theme-preview" style="background: #0a0a0a">
                                <div class="theme-preview-accent" style="background: #8c7dff"></div>
                            </div>
                            <span>Deeper Dark</span>
                        </div>
                        <div class="theme-card" data-theme="light">
                            <div class="theme-preview" style="background: #f0f0f0">
                                <div class="theme-preview-accent" style="background: #4a4fff"></div>
                            </div>
                            <span>Light</span>
                        </div>
                        <div class="theme-card" data-theme="midnight">
                            <div class="theme-preview" style="background: #0f172a">
                                <div class="theme-preview-accent" style="background: #38bdf8"></div>
                            </div>
                            <span>Midnight</span>
                        </div>
                        <div class="theme-card" data-theme="mint">
                            <div class="theme-preview" style="background: #f0f7f4">
                                <div class="theme-preview-accent" style="background: #00b894"></div>
                            </div>
                            <span>Mint</span>
                        </div>
                        <div class="theme-card" data-theme="lavender">
                            <div class="theme-preview" style="background: #f5f3ff">
                                <div class="theme-preview-accent" style="background: #9b7bfd"></div>
                            </div>
                            <span>Lavender</span>
                        </div>
                        <div class="theme-card" data-theme="sepia">
                            <div class="theme-preview" style="background: #f8f0e3">
                                <div class="theme-preview-accent" style="background: #c19a6b"></div>
                            </div>
                            <span>Sepia</span>
                        </div>
                    </div>
                </div>
                
                <div class="settings-card">
                    <h3><i class="fas fa-sliders-h"></i> Preferences</h3>
                    <p class="settings-description">Customize your experience with these options.</p>
                    <div class="settings-options">
                        <div class="settings-option">
                            <label for="show-notifications">
                                <span>Show Notifications</span>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="show-notifications" checked>
                                    <span class="toggle-slider"></span>
                                </div>
                            </label>
                            <p class="option-description">Receive feedback when actions are completed</p>
                        </div>
                        
                        <div class="settings-option">
                            <label for="auto-save">
                                <span>Auto-Save Entries</span>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="auto-save">
                                    <span class="toggle-slider"></span>
                                </div>
                            </label>
                            <p class="option-description">Automatically save journal entries as you type</p>
                        </div>
                        
                        <div class="settings-option">
                            <label for="reminder-time">
                                <span>Daily Reminder</span>
                                <input type="time" id="reminder-time" class="time-input">
                            </label>
                            <p class="option-description">Set a daily reminder to log your mood</p>
                        </div>
                    </div>
                </div>
                
                <div class="settings-card">
                    <h3><i class="fas fa-download"></i> Data Management</h3>
                    <p class="settings-description">Manage your personal data.</p>
                    <div class="data-management-options">
                        <button id="export-data" class="btn btn-secondary">
                            <i class="fas fa-file-export"></i> Export Data
                        </button>
                        <button id="import-data" class="btn btn-secondary">
                            <i class="fas fa-file-import"></i> Import Data
                        </button>
                        <input type="file" id="import-file" accept=".json" style="display: none;">
                        <button id="reset-data" class="btn btn-danger">
                            <i class="fas fa-trash-alt"></i> Reset All Data
                        </button>
                    </div>
                </div>
                
                <div class="settings-card">
                    <h3><i class="fas fa-info-circle"></i> About</h3>
                    <p class="settings-description">Information about this application.</p>
                    <div class="about-info">
                        <p><strong>Personal Space</strong> - Version 1.0.0</p>
                        <p>A personal dashboard for tracking moods, journaling, and managing your timeline.</p>
                        <p>Created with ‚ù§Ô∏è using HTML, CSS, and JavaScript.</p>
                        <p class="copyright">¬© 2023 Personal Space</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="minimalist-goals.js"></script>
    <script src="checkbox-fix.js"></script>
    <script src="fix-clock.js"></script>
    <script src="image.js"></script>
</body>
</html>